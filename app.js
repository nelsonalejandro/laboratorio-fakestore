(()=>{const e=document.getElementById("app"),t=document.getElementById("observe");window.onload=()=>{localStorage.clear(),localStorage.setItem("pagination",0)};const o=()=>{let e={limit:10,offset:localStorage.getItem("pagination")};return"?"+Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")},n=new IntersectionObserver((a=>{if(console.log(a[0].isIntersecting),a[0].isIntersecting){let a=Number.parseInt(localStorage.getItem("pagination"));a+=195==a||0==a?5:10,localStorage.setItem("pagination",a),Number.parseInt(localStorage.getItem("pagination"))<=200?(l="https://api.escuelajs.co/api/v1/products"+o(),console.log(l),fetch(l).then((e=>e.json())).then((t=>{let o=t.map((e=>`<article class="Card">\n              <img src="${e.images[0]}"/>\n                <h2>${e.title}\n                  <small>$${e.price}</small>\n                </h2> \n              </article>`)),n=document.createElement("section");n.classList.add("Items"),n.innerHTML=o.join(""),e.appendChild(n)})).catch((e=>console.log(e)))):(n.unobserve(t),alert("Todos los productos Obtenidos"))}var l}),{rootMargin:"0px 0px 100% 0px"});n.observe(t)})();