(()=>{const e=document.getElementById("app"),t=document.getElementById("observe");window.onload=()=>{localStorage.clear(),localStorage.setItem("pagination",0)};const n=()=>{let e={limit:10,offset:localStorage.getItem("pagination")};return"?"+Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")},o=new IntersectionObserver((a=>{if(a[0].isIntersecting){let a=Number.parseInt(localStorage.getItem("pagination"));a+=195==a||0==a?5:10,localStorage.setItem("pagination",a),Number.parseInt(localStorage.getItem("pagination"))<=200?(l="https://api.escuelajs.co/api/v1/products"+n(),console.log(l),fetch(l).then((e=>e.json())).then((t=>{let n=t.map((e=>`<article class="Card">\n              <img src="${e.images[0]}"/>\n                <h2>${e.title}\n                  <small>$${e.price}</small>\n                </h2> \n              </article>`)),o=document.createElement("section");o.classList.add("Items"),o.innerHTML=n.join(""),e.appendChild(o)})).catch((e=>console.log(e)))):o.unobserve(t)}var l}),{rootMargin:"0px 0px 100% 0px"});o.observe(t)})();